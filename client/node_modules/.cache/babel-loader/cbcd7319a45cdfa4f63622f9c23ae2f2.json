{"ast":null,"code":"var _jsxFileName = \"/Users/michaelhudachek/Desktop/buglogger4/client/src/components/Create-Project.js\";\nimport React, { Component } from 'react';\nimport { Row, Col, Card } from 'reactstrap';\nimport axios from 'axios';\nimport Select from 'react-select';\nexport default class CreateProject extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.handleChangeUsers = this.handleChangeUsers.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      title: \"\",\n      description: \"\",\n      tickets: [],\n      users: [],\n      userIds: []\n    };\n    this.data = [];\n  }\n\n  componentDidMount() {\n    //get users for drop down selection\n    axios.get('/api/users').then(response => {\n      response.data.map(currentuser => {\n        return this.data.push({\n          value: currentuser._id,\n          label: currentuser.username\n        });\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  onChangeTitle(e) {\n    this.setState({\n      title: e.target.value\n    });\n  }\n\n  onChangeDescription(e) {\n    this.setState({\n      description: e.target.value\n    });\n  }\n\n  handleChangeUsers(changedVal) {\n    this.setState({\n      users: changedVal\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    var userIds = this.state.users.map(currentuser => {\n      return currentuser.value;\n    });\n    var project = {\n      id: {},\n      title: this.state.title,\n      description: this.state.description,\n      users: userIds\n    };\n    axios.post('http://localhost:5000/api/projects/add', project).then(res => {\n      project.id = res.data._id;\n      console.log(project);\n      axios.post('http://localhost:5000/api/users/updateprojects', project);\n    }).then(() => {\n      console.log('users changed');\n      window.location = '/projects';\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        background: 'linear-gradient(to right bottom, #888888, #cccccc)',\n        border: 0,\n        padding: 15 //overflowY: \"scroll\"\n\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      style: {\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Create New Project\"), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      style: {\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Project Name: \"), React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      value: this.state.title,\n      onChange: this.onChangeTitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      style: {\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Description: \"), React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      value: this.state.description,\n      onChange: this.onChangeDescription,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      style: {\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Add Users: \"), React.createElement(Select, {\n      isMulti: true,\n      options: this.data,\n      onChange: this.handleChangeUsers,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      style: {\n        paddingTop: 30\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      style: {\n        fontWeight: 'bold'\n      },\n      type: \"submit\",\n      value: \"Create Project\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }))))), React.createElement(Col, {\n      sm: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/michaelhudachek/Desktop/buglogger4/client/src/components/Create-Project.js"],"names":["React","Component","Row","Col","Card","axios","Select","CreateProject","constructor","props","onChangeTitle","bind","onChangeDescription","handleChangeUsers","onSubmit","state","title","description","tickets","users","userIds","data","componentDidMount","get","then","response","map","currentuser","push","value","_id","label","username","catch","error","console","log","e","setState","target","changedVal","preventDefault","project","id","post","res","window","location","render","background","border","padding","color","paddingTop","fontWeight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Row, Col, Card } from 'reactstrap';\nimport axios from 'axios';\nimport Select from 'react-select'\n\nexport default class CreateProject extends Component {\n    constructor(props) {\n        super(props);\n\n        this.onChangeTitle = this.onChangeTitle.bind(this);\n        this.onChangeDescription = this.onChangeDescription.bind(this);\n        this.handleChangeUsers = this.handleChangeUsers.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n\n        this.state = {\n            title: \"\",\n            description: \"\",\n            tickets: [],\n            users: [],\n            userIds: [],\n        } \n        this.data = []\n    }\n\n    componentDidMount() {\n        //get users for drop down selection\n        axios.get('/api/users')\n        .then(response => {\n            response.data.map(currentuser => {\n                return this.data.push({ value: currentuser._id , label: currentuser.username})\n            })\n        })\n        .catch((error) => {\n            console.log(error);\n        })\n    }\n\n    onChangeTitle(e) {\n        this.setState({\n            title: e.target.value\n        })\n    }\n    \n    onChangeDescription(e) {\n        this.setState({\n            description: e.target.value\n        })\n    }\n    \n    handleChangeUsers(changedVal){\n        this.setState({users: changedVal})\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n        var userIds = this.state.users.map(currentuser => {\n            return ( currentuser.value )\n        })\n\n        var project = {\n            id: {},\n            title: this.state.title,\n            description: this.state.description,\n            users: userIds,\n        }\n        \n        axios.post('http://localhost:5000/api/projects/add',project)\n        .then(res => {\n            project.id = res.data._id\n            console.log(project)\n            axios.post('http://localhost:5000/api/users/updateprojects', project)\n        })\n        .then(() => {\n            console.log('users changed')\n            window.location = '/projects'\n        });\n        \n    }\n\n    render() {\n        return (\n            <div>\n                <Row>\n                <Col sm={3}></Col>\n                <Col>\n                <Card\n                style={{\n                    background: 'linear-gradient(to right bottom, #888888, #cccccc)', border: 0,padding: 15, //overflowY: \"scroll\"\n                }}>\n                <h3 style={{color: 'white'}}>Create New Project</h3>\n                <form onSubmit={this.onSubmit}>\n                    <div className=\"form-group\">\n                        <label style={{color: 'white'}}>Project Name: </label>\n                        <input type=\"text\"\n                            required\n                            className=\"form-control\"\n                            value={this.state.title}\n                            onChange={this.onChangeTitle}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label style={{color: 'white'}}>Description: </label>\n                        <input type=\"text\"\n                            required\n                            className=\"form-control\"\n                            value={this.state.description}\n                            onChange={this.onChangeDescription}\n                        />\n                    </div>\n                    <div>\n                    <label style={{color: 'white'}}>Add Users: </label>\n                        <Select isMulti options={this.data} onChange={this.handleChangeUsers}/>\n                    </div>\n                    <div className=\"form-group\" style={{paddingTop:30}}>\n                        <input style={{fontWeight: 'bold'}} type=\"submit\" value=\"Create Project\" className=\"btn btn-primary\" />\n                    </div>\n                </form>\n                </Card></Col>\n                <Col sm={3}></Col>\n                </Row>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}
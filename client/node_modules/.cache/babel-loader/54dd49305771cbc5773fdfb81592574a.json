{"ast":null,"code":"var _jsxFileName = \"/Users/michaelhudachek/Desktop/buglogger4/client/src/components/Edit-Project.js\";\nimport React, { Component } from 'react';\nimport { Button, Row, Col, Form, Modal, Card } from 'reactstrap';\nimport axios from 'axios';\nexport default class EditProject extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleShow = () => {\n      this.setState({\n        show: !this.state.show\n      });\n    };\n\n    this.handleDelete = () => {\n      const project = {\n        tickets: this.state.tickets,\n        users: this.state.users,\n        id: this.state.id\n      };\n      console.log(project.tickets);\n      axios.post('/api/tickets/deletemany/', project).then(response => {\n        axios.post('/api/users/removeproject/', project);\n      }).then(response => {\n        axios.delete('/api/projects/' + this.props.match.params.id);\n      }).then(response => {\n        window.location = '/projects';\n      });\n    };\n\n    this.onChangeTitle = e => {\n      return this.setState({\n        title: e.target.value\n      });\n    };\n\n    this.onChangeDescription = e => {\n      return this.setState({\n        description: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const project = {\n        title: this.state.title,\n        description: this.state.description,\n        users: this.state.users,\n        tickets: this.state.tickets\n      };\n      axios.post('/api/projects/update/' + this.props.match.params.id, project).then(response => {\n        window.location = '/projects';\n      });\n    };\n\n    this.state = {\n      lightgray: \"#dddddd\",\n      midgray: \"#bbbbbb\",\n      darkgray: \"#555555\",\n      title: \"\",\n      description: \"\",\n      id: {},\n      users: [],\n      tickets: [],\n      show: false\n    };\n  } //get project details\n\n\n  componentDidMount() {\n    axios.get('/api/projects/' + this.props.match.params.id).then(response => {\n      this.setState({\n        title: response.data.title\n      });\n      this.setState({\n        description: response.data.description\n      });\n      this.setState({\n        users: response.data.users\n      });\n      this.setState({\n        tickets: response.data.tickets\n      });\n      this.setState({\n        id: response.data._id\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        background: 'linear-gradient(to right bottom,#888888, #cccccc)',\n        border: 0,\n        padding: 15\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.handleSubmit.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      style: {\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Edit Project\"), React.createElement(\"div\", {\n      style: {\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/projects/details/\" + this.props.match.params.id,\n      style: {\n        cursor: 'pointer'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Cancel\"), \" | \", React.createElement(\"a\", {\n      href: '#',\n      onClick: this.handleShow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Delete\")), React.createElement(\"div\", {\n      style: {\n        paddingTop: 20,\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Title\")), React.createElement(\"div\", {\n      style: {\n        paddingTop: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Submit\"))))), React.createElement(Col, {\n      sm: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })), React.createElement(Modal, {\n      show: this.state.show,\n      onHide: this.handleShow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Are you sure you want to delete this project?\"), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.handleShow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Cancel\"), React.createElement(Button, {\n      variant: \"danger\",\n      onClick: this.handleDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Delete\"))));\n  }\n\n}","map":{"version":3,"sources":["/Users/michaelhudachek/Desktop/buglogger4/client/src/components/Edit-Project.js"],"names":["React","Component","Button","Row","Col","Form","Modal","Card","axios","EditProject","constructor","props","handleShow","setState","show","state","handleDelete","project","tickets","users","id","console","log","post","then","response","delete","match","params","window","location","onChangeTitle","e","title","target","value","onChangeDescription","description","handleSubmit","preventDefault","lightgray","midgray","darkgray","componentDidMount","get","data","_id","catch","error","render","background","border","padding","bind","color","cursor","paddingTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Row, Col, Form, Modal, Card } from 'reactstrap';\nimport axios from 'axios';\n\nexport default class EditProject extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      lightgray: \"#dddddd\",\n      midgray: \"#bbbbbb\",\n      darkgray: \"#555555\",\n      title: \"\",\n      description: \"\",\n      id: {},\n      users: [],\n      tickets: [],\n      show: false,\n    } \n  }\n  \n  //get project details\n  componentDidMount() {\n    axios.get('/api/projects/'+this.props.match.params.id)\n    .then(response => {\n      this.setState({title: response.data.title})\n      this.setState({description: response.data.description})\n      this.setState({users: response.data.users})\n      this.setState({tickets: response.data.tickets})\n      this.setState({id: response.data._id})\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n  }\n\n  handleShow = () => {\n    this.setState({show: !this.state.show})\n  }\n\n  //delete project, remove project from users, delete tickets, remove tickets from users\n  handleDelete = () => {\n    const project = {\n      tickets: this.state.tickets,\n      users: this.state.users,\n      id: this.state.id\n    }\n    console.log(project.tickets)\n\n    axios.post('/api/tickets/deletemany/', project)\n    .then(response => {\n      axios.post('/api/users/removeproject/', project)\n    })\n    .then(response => {\n      axios.delete('/api/projects/'+this.props.match.params.id)\n    })\n    .then(response => {\n      window.location = '/projects'\n    })\n  }\n\n  //handle title text change\n  onChangeTitle = (e) => {\n    return this.setState({title: e.target.value})\n  }\n\n  //handle description text change\n  onChangeDescription = (e) => {\n    return this.setState({description: e.target.value})\n  }\n\n  //make project and send it to update project at id\n  handleSubmit = (e) => {\n    e.preventDefault()\n\n    const project = {\n      title: this.state.title,\n      description: this.state.description,\n      users: this.state.users,\n      tickets: this.state.tickets,\n    }\n\n    axios.post('/api/projects/update/'+this.props.match.params.id, project)\n    .then(response => {\n      window.location = '/projects'\n    })\n\n  }\n\n  render() {\n    return (\n      <div>\n        <Row>\n          <Col sm={3}></Col>\n          <Col>\n          <Card style={{background: 'linear-gradient(to right bottom,#888888, #cccccc)' , border: 0,padding: 15}}>\n            <Form onSubmit={this.handleSubmit.bind(this)}>\n              <h3 style={{color: 'white'}}>Edit Project</h3>\n              <div style={{color:'white'}}><a href={\"/projects/details/\"+this.props.match.params.id} style={{cursor: 'pointer'}}>Cancel</a> | <a href={'#'} onClick={this.handleShow}>Delete</a></div>\n              \n              <div style={{paddingTop:20, color: 'white'}}><h5>Title</h5></div>\n              \n              <div style={{paddingTop:20}}>\n              <Button variant=\"primary\" type=\"submit\">\n                Submit\n              </Button>\n              </div>\n              </Form>  \n              </Card>      \n          </Col>\n          <Col sm={3}></Col>\n        </Row>\n\n      <Modal show={this.state.show} onHide={this.handleShow}>\n        <Modal.Body>Are you sure you want to delete this project?</Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={this.handleShow}>\n            Cancel\n          </Button>\n          <Button variant=\"danger\" onClick={this.handleDelete}>\n            Delete\n          </Button>\n        </Modal.Footer>\n      </Modal>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
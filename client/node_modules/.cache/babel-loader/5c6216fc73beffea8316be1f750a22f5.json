{"ast":null,"code":"var _jsxFileName = \"/Users/michaelhudachek/Desktop/buglogger4/client/src/components/List-Users.js\";\nimport React, { Component } from 'react';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport axios from 'axios';\nexport default class UserList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      users: [],\n      miniColumns: [{\n        dataField: 'username',\n        text: 'Users',\n        sort: true,\n        style: {\n          fontSize: 14,\n          padding: 3,\n          paddingLeft: 13\n        },\n        headerStyle: {\n          fontSize: 14,\n          paddingBottom: 0,\n          alignItems: \"left\"\n        }\n      }, {\n        dataField: 'role',\n        text: 'Role',\n        sort: true,\n        style: {\n          fontSize: 14,\n          padding: 3,\n          paddingLeft: 13\n        },\n        headerStyle: {\n          fontSize: 14,\n          paddingBottom: 0,\n          alignItems: \"left\"\n        }\n      }],\n      columns: [{\n        dataField: 'username',\n        text: 'Users',\n        sort: true,\n        style: {\n          fontSize: 14,\n          padding: 3,\n          paddingLeft: 13\n        },\n        headerStyle: {\n          fontSize: 14,\n          paddingBottom: 0,\n          alignItems: \"left\"\n        }\n      }, {\n        dataField: 'email',\n        text: 'Email',\n        sort: true,\n        style: {\n          fontSize: 14,\n          padding: 3,\n          paddingLeft: 13\n        },\n        headerStyle: {\n          fontSize: 14,\n          paddingBottom: 0,\n          alignItems: \"left\"\n        }\n      }, {\n        dataField: 'role',\n        text: 'Role',\n        sort: true,\n        style: {\n          fontSize: 14,\n          padding: 3,\n          paddingLeft: 13\n        },\n        headerStyle: {\n          fontSize: 14,\n          paddingBottom: 0,\n          alignItems: \"left\"\n        }\n      }, {\n        dataField: '',\n        text: '',\n        formatter: (cell, row) => {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            href: \"/users/details/\" + row.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          }, \"Details\"));\n        },\n        style: {\n          fontSize: 14,\n          padding: 3,\n          paddingLeft: 13\n        },\n        headerStyle: {\n          fontSize: 14,\n          paddingBottom: 0,\n          alignItems: \"left\"\n        }\n      }, {\n        dataField: 'id',\n        text: 'id',\n        hidden: true\n      }]\n    };\n\n    this.renderList = () => {\n      if (this.props.mini) {\n        return React.createElement(BootstrapTable, {\n          bootstrap4: true,\n          bordered: false,\n          keyField: \"username\",\n          data: this.state.users,\n          columns: this.state.miniColumns,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(BootstrapTable, {\n          bootstrap4: true,\n          bordered: false,\n          keyField: \"username\",\n          data: this.state.users,\n          columns: this.state.columns,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    //filter out users for displaying in project detials\n    if (this.props.filter) {\n      axios.get('/api/projects/getusers/' + this.props.id).then(response => {\n        axios.get('/api/users/searchid', {\n          params: {\n            ids: response.data\n          }\n        }).then(response => {\n          console.log(response.data);\n          const newUsers = response.data.map(user => ({\n            id: user._id,\n            username: user.username,\n            email: user.email,\n            role: user.role\n          }));\n          this.setState({\n            users: newUsers\n          });\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } else {\n      //else show all users\n      axios.get('/api/users').then(response => {\n        console.log(response.data);\n        const newUsers = response.data.map(user => ({\n          id: user._id,\n          username: user.username,\n          email: user.email,\n          role: user.role\n        }));\n        this.setState({\n          users: newUsers\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, this.renderList.bind(this));\n  }\n\n}","map":{"version":3,"sources":["/Users/michaelhudachek/Desktop/buglogger4/client/src/components/List-Users.js"],"names":["React","Component","BootstrapTable","axios","UserList","state","users","miniColumns","dataField","text","sort","style","fontSize","padding","paddingLeft","headerStyle","paddingBottom","alignItems","columns","formatter","cell","row","id","hidden","renderList","props","mini","componentDidMount","filter","get","then","response","params","ids","data","console","log","newUsers","map","user","_id","username","email","role","setState","catch","error","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\"\nimport axios from 'axios';\n\nexport default class UserList extends Component {\n  state = {\n    users: [],  \n    miniColumns: [{\n      dataField: 'username',\n      text: 'Users',\n      sort: true,\n      style: { fontSize: 14, padding: 3, paddingLeft: 13},\n      headerStyle: { fontSize: 14, paddingBottom: 0,alignItems: \"left\" },\n    },{\n      dataField: 'role',\n      text: 'Role',\n      sort: true,\n      style: { fontSize: 14, padding: 3, paddingLeft: 13},\n      headerStyle: { fontSize: 14, paddingBottom: 0,alignItems: \"left\" },\n    }],\n\n    columns: [{\n      dataField: 'username',\n      text: 'Users',\n      sort: true,\n      style: { fontSize: 14, padding: 3, paddingLeft: 13},\n      headerStyle: { fontSize: 14, paddingBottom: 0,alignItems: \"left\" },\n    }, {\n      dataField: 'email',\n      text: 'Email',\n      sort: true,\n      style: { fontSize: 14, padding: 3, paddingLeft: 13},\n      headerStyle: { fontSize: 14, paddingBottom: 0,alignItems: \"left\" },\n    }, {\n      dataField: 'role',\n      text: 'Role',\n      sort: true,\n      style: { fontSize: 14, padding: 3, paddingLeft: 13},\n      headerStyle: { fontSize: 14, paddingBottom: 0,alignItems: \"left\" },\n    },{\n      dataField: '',\n      text: '',\n      formatter: (cell, row) => { return (\n        <div><a href={\"/users/details/\"+row.id}>Details</a></div>\n        )},\n      style: { fontSize: 14, padding: 3, paddingLeft: 13},\n      headerStyle: { fontSize: 14, paddingBottom: 0,alignItems: \"left\" },\n    },{\n      dataField: 'id',\n      text: 'id',\n      hidden: true,\n    }, ],\n  } \n\n  componentDidMount() {\n    //filter out users for displaying in project detials\n    if (this.props.filter){\n      axios.get('/api/projects/getusers/'+this.props.id)\n      .then(response => {\n        axios.get('/api/users/searchid',{params: {ids: response.data}} )\n        .then(response => {\n          console.log(response.data)\n          const newUsers = response.data.map(user => (\n            {id: user._id,\n              username: user.username, \n              email: user.email,\n              role: user.role}))\n          this.setState({users: newUsers})\n        })\n      })\n      .catch(function (error) {\n          console.log(error);\n      })\n    } else { //else show all users\n      axios.get('/api/users')\n      .then(response => {\n        console.log(response.data)\n        const newUsers = response.data.map(user => (\n          {id: user._id,\n            username: user.username, \n            email: user.email,\n            role: user.role}))\n        this.setState({users: newUsers})\n      })\n      .catch(function (error) {\n          console.log(error);\n      })\n    }\n  }\n\n  renderList = () => {\n    if (this.props.mini){\n      return(\n      <BootstrapTable \n        bootstrap4 \n        bordered={false}\n        keyField='username' \n        data={ this.state.users } \n        columns={ this.state.miniColumns } \n      />)\n    } else {\n      return (\n      <BootstrapTable \n        bootstrap4 \n        bordered={false}\n        keyField='username' \n        data={ this.state.users } \n        columns={ this.state.columns } \n      />)\n    }\n  }\n\n  render() {\n      return (\n        <div>\n          { this.renderList.bind(this) }\n        </div>\n      );\n    }\n}"]},"metadata":{},"sourceType":"module"}
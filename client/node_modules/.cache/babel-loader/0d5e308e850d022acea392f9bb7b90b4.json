{"ast":null,"code":"var _jsxFileName = \"/Users/michaelhudachek/Desktop/buglogger4/client/src/components/Create-Project.js\";\nimport React, { Component } from 'react';\nimport { Row, Col, Card } from 'reactstrap';\nimport axios from 'axios';\nimport Select from 'react-select';\nexport default class CreateProject extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      title: \"\",\n      description: \"\",\n      tickets: [],\n      usersStatic: [],\n      users: [],\n      userIds: []\n    };\n\n    this.onChangeTitle = e => {\n      return this.setState({\n        title: e.target.value\n      });\n    };\n\n    this.onChangeDescription = e => {\n      return this.setState({\n        description: e.target.value\n      });\n    };\n\n    this.handleChangeUsers = changedVal => {\n      return this.setState({\n        users: changedVal\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      var userIds = this.state.users.map(currentuser => {\n        return currentuser.value;\n      });\n      var project = {\n        id: {},\n        title: this.state.title,\n        description: this.state.description,\n        users: userIds\n      };\n      axios.post('/api/projects/add', project).then(res => {\n        project.id = res.data._id;\n        axios.post('/api/users/updateprojects', project);\n      }).then(() => {\n        window.location = '/projects';\n      });\n    };\n  }\n\n  componentDidMount() {\n    //get users for drop down selection\n    axios.get('/api/users').then(response => {\n      var data = [];\n      response.data.map(currentuser => {\n        return this.data.push({\n          value: currentuser._id,\n          label: currentuser.username\n        });\n      });\n      this.setState({\n        usersStatic: data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        background: 'linear-gradient(to right bottom, #888888, #cccccc)',\n        border: 0,\n        padding: 15 //overflowY: \"scroll\"\n\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      style: {\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Create New Project\"), React.createElement(\"form\", {\n      onSubmit: this.onSubmit.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      style: {\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Project Name: \"), React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      value: this.state.title,\n      onChange: this.onChangeTitle.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      style: {\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Description: \"), React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      value: this.state.description,\n      onChange: this.onChangeDescription.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      style: {\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Add Users: \"), React.createElement(Select, {\n      isMulti: true,\n      options: this.state.usersStatic,\n      onChange: this.handleChangeUsers.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      style: {\n        paddingTop: 30\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      style: {\n        fontWeight: 'bold'\n      },\n      type: \"submit\",\n      value: \"Create Project\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }))))), React.createElement(Col, {\n      sm: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/michaelhudachek/Desktop/buglogger4/client/src/components/Create-Project.js"],"names":["React","Component","Row","Col","Card","axios","Select","CreateProject","state","title","description","tickets","usersStatic","users","userIds","onChangeTitle","e","setState","target","value","onChangeDescription","handleChangeUsers","changedVal","onSubmit","preventDefault","map","currentuser","project","id","post","then","res","data","_id","window","location","componentDidMount","get","response","push","label","username","catch","error","console","log","render","background","border","padding","color","bind","paddingTop","fontWeight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Row, Col, Card } from 'reactstrap';\nimport axios from 'axios';\nimport Select from 'react-select'\n\nexport default class CreateProject extends Component {\n  state = {\n    title: \"\",\n    description: \"\",\n    tickets: [],\n    usersStatic: [],\n    users: [],\n    userIds: [],\n  } \n\n    componentDidMount() {\n        //get users for drop down selection\n        axios.get('/api/users')\n        .then(response => {\n            var data = []\n            response.data.map(currentuser => {\n                return this.data.push({ value: currentuser._id , label: currentuser.username})\n            })\n            this.setState({usersStatic: data})\n        })\n        .catch((error) => {\n            console.log(error);\n        })\n    }\n\n    onChangeTitle = (e) => {\n        return this.setState({title: e.target.value})\n    }\n    \n    onChangeDescription = (e) => {\n        return this.setState({description: e.target.value})\n    }\n    \n    handleChangeUsers = (changedVal) => {\n        return this.setState({users: changedVal})\n    }\n\n    onSubmit = (e) => {\n        e.preventDefault();\n        var userIds = this.state.users.map(currentuser => {\n            return ( currentuser.value )\n        })\n\n        var project = {\n            id: {},\n            title: this.state.title,\n            description: this.state.description,\n            users: userIds,\n        }\n        \n        axios.post('/api/projects/add',project)\n        .then(res => {\n            project.id = res.data._id\n            axios.post('/api/users/updateprojects', project)\n        })\n        .then(() => {\n            window.location = '/projects'\n        });\n        \n    }\n\n    render() {\n        return (\n            <div>\n                <Row>\n                <Col sm={3}></Col>\n                <Col>\n                <Card\n                style={{\n                    background: 'linear-gradient(to right bottom, #888888, #cccccc)', border: 0,padding: 15, //overflowY: \"scroll\"\n                }}>\n                <h3 style={{color: 'white'}}>Create New Project</h3>\n                <form onSubmit={this.onSubmit.bind(this)}>\n                    <div className=\"form-group\">\n                        <label style={{color: 'white'}}>Project Name: </label>\n                        <input type=\"text\"\n                            required\n                            className=\"form-control\"\n                            value={this.state.title}\n                            onChange={this.onChangeTitle.bind(this)}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label style={{color: 'white'}}>Description: </label>\n                        <input type=\"text\"\n                            required\n                            className=\"form-control\"\n                            value={this.state.description}\n                            onChange={this.onChangeDescription.bind(this)}\n                        />\n                    </div>\n                    <div>\n                    <label style={{color: 'white'}}>Add Users: </label>\n                        <Select isMulti options={this.state.usersStatic} onChange={this.handleChangeUsers.bind(this)}/>\n                    </div>\n                    <div className=\"form-group\" style={{paddingTop:30}}>\n                        <input style={{fontWeight: 'bold'}} type=\"submit\" value=\"Create Project\" className=\"btn btn-primary\" />\n                    </div>\n                </form>\n                </Card></Col>\n                <Col sm={3}></Col>\n                </Row>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/michaelhudachek/Desktop/buglogger4/client/src/components/Edit-Project-Users.js\";\nimport React, { Component } from 'react';\nimport { Button, Row, Col, Form, Card } from 'reactstrap';\nimport Select from 'react-select';\nimport axios from 'axios';\nexport default class EditProjectUsers extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      id: {},\n      usersProject: [],\n      usersToRemove: [],\n      usersAll: [],\n      usersToAdd: []\n    };\n\n    this.onChangeRemoveUsers = e => {\n      return this.setState({\n        usersToRemove: e\n      });\n    };\n\n    this.onChangeAddUsers = e => {\n      return this.setState({\n        usersToAdd: e\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      var newUsersToAdd = [];\n      var newUsersToRemove = [];\n      this.state.usersToAdd.map(currentuser => {\n        newUsersToAdd.push(currentuser.value);\n      });\n      this.state.usersToRemove.map(currentuser => {\n        newUsersToRemove.push(currentuser.value);\n      });\n      const project = {\n        id: this.state.id,\n        usersToAdd: newUsersToAdd,\n        usersToRemove: newUsersToRemove\n      };\n      const projectAdd = {\n        id: this.state.id,\n        users: newUsersToAdd\n      };\n      const projectRemove = {\n        id: this.state.id,\n        users: newUsersToRemove\n      };\n      axios.post('/api/projects/addusers/' + this.props.match.params.id, project).then(response => {\n        axios.post('/api/projects/removeusers/' + this.props.match.params.id, project);\n      }).then(response => {\n        axios.post('/api/users/updateprojects/', projectAdd);\n      }).then(response => {\n        axios.post('/api/users/removeproject/', projectRemove);\n      }).then(response => {\n        return window.location = '/projects/details/' + this.props.match.params.id;\n      });\n    };\n  }\n\n  componentDidMount() {\n    //get project details\n    axios.get('/api/projects/' + this.props.match.params.id).then(response => {\n      this.setState({\n        title: response.data.title\n      });\n      this.setState({\n        description: response.data.description\n      });\n      this.setState({\n        id: response.data._id\n      });\n    }).catch(function (error) {\n      console.log(error);\n    }); //get users in project\n\n    axios.get('/api/users/inproject/' + this.props.match.params.id).then(response => {\n      var newUsers = [];\n      response.data.map(currentuser => {\n        return newUsers.push({\n          value: currentuser._id,\n          label: currentuser.username\n        });\n      });\n      this.setState({\n        usersProject: newUsers\n      });\n    }); //get users not in project\n\n    axios.get('/api/users/notinproject/' + this.props.match.params.id).then(response => {\n      var newUsers = [];\n      response.data.map(currentuser => {\n        return newUsers.push({\n          value: currentuser._id,\n          label: currentuser.username\n        });\n      });\n      this.setState({\n        usersAll: newUsers\n      });\n    });\n  } //handle description text change\n\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        background: 'linear-gradient(to right bottom, #555555, #cccccc)',\n        border: 0,\n        padding: 15\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.handleSubmit.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      style: {\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, this.state.title, \" Users\"), React.createElement(\"a\", {\n      href: \"/projects/details/\" + this.props.match.params.id,\n      style: {\n        cursor: 'pointer'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Cancel\"), React.createElement(\"div\", {\n      style: {\n        paddingTop: 20,\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Remove Users\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Select, {\n      isMulti: true,\n      options: this.state.usersProject,\n      onChange: this.onChangeRemoveUsers.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        paddingTop: 20,\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Add Users\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Select, {\n      isMulti: true,\n      options: this.state.usersAll,\n      onChange: this.onChangeAddUsers.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        paddingTop: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Submit\"))))), React.createElement(Col, {\n      sm: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/michaelhudachek/Desktop/buglogger4/client/src/components/Edit-Project-Users.js"],"names":["React","Component","Button","Row","Col","Form","Card","Select","axios","EditProjectUsers","state","id","usersProject","usersToRemove","usersAll","usersToAdd","onChangeRemoveUsers","e","setState","onChangeAddUsers","handleSubmit","preventDefault","newUsersToAdd","newUsersToRemove","map","currentuser","push","value","project","projectAdd","users","projectRemove","post","props","match","params","then","response","window","location","componentDidMount","get","title","data","description","_id","catch","error","console","log","newUsers","label","username","render","background","border","padding","bind","color","cursor","paddingTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Row, Col, Form, Card } from 'reactstrap';\nimport Select from 'react-select'\nimport axios from 'axios';\n\nexport default class EditProjectUsers extends Component {\n  state = {\n      id: {},\n      usersProject: [],\n      usersToRemove: [],\n      usersAll: [],\n      usersToAdd: [],\n  }\n \n  componentDidMount() {\n     //get project details\n    axios.get('/api/projects/'+this.props.match.params.id)\n    .then(response => {\n      this.setState({title: response.data.title})\n      this.setState({description: response.data.description})\n      this.setState({id: response.data._id})\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n\n    //get users in project\n    axios.get('/api/users/inproject/'+this.props.match.params.id)\n    .then(response => {\n      var newUsers = []\n      response.data.map(currentuser => {\n        return newUsers.push({ value: currentuser._id , label: currentuser.username})\n      })\n      this.setState({usersProject: newUsers})\n    })\n\n    //get users not in project\n    axios.get('/api/users/notinproject/'+this.props.match.params.id)\n      .then(response => {\n        var newUsers = []\n        response.data.map(currentuser => {\n          return newUsers.push({ value: currentuser._id , label: currentuser.username})\n        })\n        this.setState({usersAll: newUsers})\n      })\n    }\n\n  //handle description text change\n  onChangeRemoveUsers = (e) => {\n    return this.setState({usersToRemove: e})\n  }\n\n  //handle title text change\n  onChangeAddUsers = (e) => {\n    return this.setState({usersToAdd: e})\n  }\n\n  //make project and send to update original project\n  handleSubmit = (e) => {\n    e.preventDefault()\n\n    var newUsersToAdd = []\n    var newUsersToRemove = []\n\n    this.state.usersToAdd.map(currentuser => {\n      newUsersToAdd.push(currentuser.value)\n    })\n    this.state.usersToRemove.map(currentuser => {\n      newUsersToRemove.push(currentuser.value)\n    })\n\n    const project = {\n      id: this.state.id,\n      usersToAdd: newUsersToAdd,\n      usersToRemove: newUsersToRemove,\n    }\n    const projectAdd = {\n      id: this.state.id,\n      users: newUsersToAdd,\n    }\n    const projectRemove = {\n      id: this.state.id,\n      users: newUsersToRemove,\n    }\n    axios.post('/api/projects/addusers/'+this.props.match.params.id, project)\n    .then(response => {\n      axios.post('/api/projects/removeusers/'+this.props.match.params.id, project)\n    })\n    .then(response => {\n      axios.post('/api/users/updateprojects/', projectAdd)\n    })\n    .then(response => {\n      axios.post('/api/users/removeproject/', projectRemove)\n    })\n    .then(response => {\n      return window.location = '/projects/details/'+this.props.match.params.id\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <Row>\n          <Col sm={3}></Col>\n          <Col>\n            <Card style={{background: 'linear-gradient(to right bottom, #555555, #cccccc)' , border: 0,padding: 15}}>\n            <Form onSubmit={this.handleSubmit.bind(this)}>\n              <h3 style={{color: 'white'}}>{this.state.title} Users</h3>\n              <a href={\"/projects/details/\"+this.props.match.params.id} style={{cursor: 'pointer'}}>\n                Cancel\n              </a> \n\n              <div style={{paddingTop:20, color: 'white'}}><h5>Remove Users</h5></div>\n              <div><Select isMulti options={ this.state.usersProject } onChange={this.onChangeRemoveUsers.bind(this)}/></div>\n              <div style={{paddingTop:20,color: 'white'}}><h5>Add Users</h5></div>\n              <div><Select isMulti options={ this.state.usersAll } onChange={this.onChangeAddUsers.bind(this)}/></div>\n\n              <div style={{paddingTop:20}}>\n                <Button variant=\"primary\" type=\"submit\">\n                  Submit\n                </Button>\n              </div>\n            </Form>  \n            </Card>      \n          </Col>\n          <Col sm={3}></Col>\n        </Row>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
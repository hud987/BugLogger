{"ast":null,"code":"var _jsxFileName = \"/Users/michaelhudachek/Desktop/buglogger4/client/src/components/Edit-Project.js\";\nimport React, { Component } from 'react';\nimport { Button, Row, Col, Form, Modal, Card, Input } from 'reactstrap';\nimport axios from 'axios';\nexport default class CreateUser extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      title: \"\",\n      description: \"\",\n      id: {},\n      users: [],\n      tickets: [],\n      show: false\n    };\n\n    this.handleShow = () => {\n      this.setState({\n        show: !this.state.show\n      });\n    };\n\n    this.handleDelete = () => {\n      const project = {\n        tickets: this.state.tickets,\n        users: this.state.users,\n        id: this.state.id\n      };\n      console.log(project.tickets);\n      axios.post('/api/tickets/deletemany/', project).then(response => {\n        axios.post('/api/users/removeproject/', project);\n      }).then(response => {\n        axios.delete('/api/projects/' + this.props.match.params.id);\n      }).then(response => {\n        window.location = '/projects';\n      });\n    };\n\n    this.onChangeTitle = e => {\n      return this.setState({\n        title: e.target.value\n      });\n    };\n\n    this.onChangeDescription = e => {\n      return this.setState({\n        description: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const project = {\n        title: this.state.title,\n        description: this.state.description,\n        users: this.state.users,\n        tickets: this.state.tickets\n      };\n      axios.post('/api/projects/update/' + this.props.match.params.id, project).then(response => {\n        window.location = '/projects';\n      });\n    };\n  }\n\n  //get project details\n  componentDidMount() {\n    axios.get('/api/projects/' + this.props.match.params.id).then(response => {\n      this.setState({\n        title: response.data.title\n      });\n      this.setState({\n        description: response.data.description\n      });\n      this.setState({\n        users: response.data.users\n      });\n      this.setState({\n        tickets: response.data.tickets\n      });\n      this.setState({\n        id: response.data._id\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        background: 'linear-gradient(to right bottom,#888888, #cccccc)',\n        border: 0,\n        padding: 15\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.handleSubmit.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      style: {\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Edit Project\"), React.createElement(\"div\", {\n      style: {\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/projects/details/\" + this.props.match.params.id,\n      style: {\n        cursor: 'pointer'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Cancel\"), \" | \", React.createElement(\"a\", {\n      href: '#',\n      onClick: this.handleShow(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Delete\")), React.createElement(\"div\", {\n      style: {\n        paddingTop: 20,\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Title\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"text\",\n      value: this.state.title,\n      onChange: this.onChangeTitle.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        paddingTop: 20,\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Description\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"text\",\n      value: this.state.description,\n      onChange: this.onChangeDescription.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        paddingTop: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"primary\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Submit\"))))), React.createElement(Col, {\n      sm: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    })), React.createElement(Modal, {\n      show: this.state.show,\n      onHide: this.handleShow(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Are you sure you want to delete this project?\"), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"secondary\",\n      onClick: this.handleShow(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Cancel\"), React.createElement(Button, {\n      color: \"danger\",\n      onClick: this.handleDelete(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Delete\"))));\n  }\n\n}","map":{"version":3,"sources":["/Users/michaelhudachek/Desktop/buglogger4/client/src/components/Edit-Project.js"],"names":["React","Component","Button","Row","Col","Form","Modal","Card","Input","axios","CreateUser","state","title","description","id","users","tickets","show","handleShow","setState","handleDelete","project","console","log","post","then","response","delete","props","match","params","window","location","onChangeTitle","e","target","value","onChangeDescription","handleSubmit","preventDefault","componentDidMount","get","data","_id","catch","error","render","background","border","padding","bind","color","cursor","paddingTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Row, Col, Form, Modal, Card, Input } from 'reactstrap';\nimport axios from 'axios';\n\nexport default class CreateUser extends Component {\n  state = {\n      title: \"\",\n      description: \"\",\n      id: {},\n      users: [],\n      tickets: [],\n      show: false,\n  }\n  \n  //get project details\n  componentDidMount() {\n    axios.get('/api/projects/'+this.props.match.params.id)\n    .then(response => {\n      this.setState({title: response.data.title})\n      this.setState({description: response.data.description})\n      this.setState({users: response.data.users})\n      this.setState({tickets: response.data.tickets})\n      this.setState({id: response.data._id})\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n  }\n\n  handleShow = () => {\n    this.setState({show: !this.state.show})\n  }\n\n  //delete project, remove project from users, delete tickets, remove tickets from users\n  handleDelete = () => {\n    const project = {\n      tickets: this.state.tickets,\n      users: this.state.users,\n      id: this.state.id\n    }\n    console.log(project.tickets)\n\n    axios.post('/api/tickets/deletemany/', project)\n    .then(response => {\n      axios.post('/api/users/removeproject/', project)\n    })\n    .then(response => {\n      axios.delete('/api/projects/'+this.props.match.params.id)\n    })\n    .then(response => {\n      window.location = '/projects'\n    })\n  }\n\n  //handle title text change\n  onChangeTitle = (e) => {\n    return this.setState({title: e.target.value})\n  }\n\n  //handle description text change\n  onChangeDescription = (e) => {\n    return this.setState({description: e.target.value})\n  }\n\n  //make project and send it to update project at id\n  handleSubmit = (e) => {\n    e.preventDefault()\n\n    const project = {\n      title: this.state.title,\n      description: this.state.description,\n      users: this.state.users,\n      tickets: this.state.tickets,\n    }\n\n    axios.post('/api/projects/update/'+this.props.match.params.id, project)\n    .then(response => {\n      window.location = '/projects'\n    })\n\n  }\n\n  render() {\n    return (\n      <div>\n        <Row>\n          <Col sm={3}></Col>\n          <Col>\n          <Card style={{background: 'linear-gradient(to right bottom,#888888, #cccccc)' , border: 0,padding: 15}}>\n            <Form onSubmit={this.handleSubmit.bind(this)}>\n              <h3 style={{color: 'white'}}>Edit Project</h3>\n              <div style={{color:'white'}}><a href={\"/projects/details/\"+this.props.match.params.id} style={{cursor: 'pointer'}}>Cancel</a> | <a href={'#'} onClick={this.handleShow(this)}>Delete</a></div>\n              \n              <div style={{paddingTop:20, color: 'white'}}><h5>Title</h5></div>\n              <div><Input type='text' value={ this.state.title } onChange={this.onChangeTitle.bind(this)}/></div>\n              <div style={{paddingTop:20,color: 'white'}}><h5>Description</h5></div>\n              <div><Input type='text' value={ this.state.description } onChange={this.onChangeDescription.bind(this)}/></div>\n\n              <div style={{paddingTop:20}}>\n              <Button color=\"primary\" type=\"submit\">\n                Submit\n              </Button>\n              </div>\n              </Form>  \n              </Card>      \n          </Col>\n          <Col sm={3}></Col>\n        </Row>\n\n      <Modal show={this.state.show} onHide={this.handleShow(this)}>\n        <Modal.Body>Are you sure you want to delete this project?</Modal.Body>\n        <Modal.Footer>\n          <Button color=\"secondary\" onClick={this.handleShow(this)}>\n            Cancel\n          </Button>\n          <Button color=\"danger\" onClick={this.handleDelete(this)}>\n            Delete\n          </Button>\n        </Modal.Footer>\n      </Modal>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
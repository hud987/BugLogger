{"ast":null,"code":"var _jsxFileName = \"/Users/michaelhudachek/Desktop/buglogger4/client/src/components/Edit-Project-Users.js\";\nimport React, { Component } from 'react';\nimport { Button, Row, Col, Form, Card } from 'reactstrap';\nimport Select from 'react-select';\nimport axios from 'axios';\nexport default class EditProjectUsers extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeRemoveUsers = e => {\n      this.setState({\n        usersToRemove: e\n      });\n    };\n\n    this.onChangeAddUsers = e => {\n      this.setState({\n        usersToAdd: e\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      var newUsersToAdd = [];\n      var newUsersToRemove = [];\n      this.state.usersToAdd.map(currentuser => {\n        newUsersToAdd.push(currentuser.value);\n      });\n      this.state.usersToRemove.map(currentuser => {\n        newUsersToRemove.push(currentuser.value);\n      });\n      const project = {\n        id: this.state.id,\n        usersToAdd: newUsersToAdd,\n        usersToRemove: newUsersToRemove\n      };\n      const projectAdd = {\n        id: this.state.id,\n        users: newUsersToAdd\n      };\n      const projectRemove = {\n        id: this.state.id,\n        users: newUsersToRemove\n      };\n      axios.post('/api/projects/addusers/' + this.props.match.params.id, project).then(response => {\n        axios.post('/api/projects/removeusers/' + this.props.match.params.id, project);\n      }).then(response => {\n        axios.post('api/users/updateprojects/', projectAdd);\n      }).then(response => {\n        axios.post('/api/users/removeproject/', projectRemove);\n      }).then(response => {\n        window.location = '/projects/details/' + this.props.match.params.id;\n      });\n    };\n\n    this.state = {\n      title: \"\",\n      description: \"\",\n      id: {},\n      usersProject: [],\n      usersToRemove: [],\n      usersAll: [],\n      usersToAdd: []\n    };\n  } //get project details\n\n\n  componentDidMount() {\n    axios.get('api/projects/' + this.props.match.params.id).then(response => {\n      this.setState({\n        title: response.data.title\n      });\n      this.setState({\n        description: response.data.description\n      });\n      this.setState({\n        id: response.data._id\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get('/api/users/inproject/' + this.props.match.params.id).then(response => {\n      var newUsers = [];\n      response.data.map(currentuser => {\n        newUsers.push({\n          value: currentuser._id,\n          label: currentuser.username\n        });\n      });\n      this.setState({\n        usersProject: newUsers\n      });\n    });\n    axios.get('/api/users/notinproject/' + this.props.match.params.id).then(response => {\n      var newUsers = [];\n      response.data.map(currentuser => {\n        newUsers.push({\n          value: currentuser._id,\n          label: currentuser.username\n        });\n      });\n      this.setState({\n        usersAll: newUsers\n      });\n    });\n  } //handle description text change\n\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        background: 'linear-gradient(to right bottom, #555555, #cccccc)',\n        border: 0,\n        padding: 15\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.handleSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      style: {\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, this.state.title, \" Users\"), React.createElement(\"a\", {\n      href: \"/projects/details/\" + this.props.match.params.id,\n      style: {\n        cursor: 'pointer'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Cancel\"), React.createElement(\"div\", {\n      style: {\n        paddingTop: 20,\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Remove Users\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Select, {\n      isMulti: true,\n      options: this.state.usersProject,\n      onChange: this.onChangeRemoveUsers(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        paddingTop: 20,\n        color: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Add Users\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Select, {\n      isMulti: true,\n      options: this.state.usersAll,\n      onChange: this.onChangeAddUsers(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        paddingTop: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Submit\"))))), React.createElement(Col, {\n      sm: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/michaelhudachek/Desktop/buglogger4/client/src/components/Edit-Project-Users.js"],"names":["React","Component","Button","Row","Col","Form","Card","Select","axios","EditProjectUsers","constructor","props","onChangeRemoveUsers","e","setState","usersToRemove","onChangeAddUsers","usersToAdd","handleSubmit","preventDefault","newUsersToAdd","newUsersToRemove","state","map","currentuser","push","value","project","id","projectAdd","users","projectRemove","post","match","params","then","response","window","location","title","description","usersProject","usersAll","componentDidMount","get","data","_id","catch","error","console","log","newUsers","label","username","render","background","border","padding","color","cursor","paddingTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Row, Col, Form, Card } from 'reactstrap';\nimport Select from 'react-select'\nimport axios from 'axios';\n\nexport default class EditProjectUsers extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      title: \"\",\n      description: \"\",\n      id: {},\n      usersProject: [],\n      usersToRemove: [],\n      usersAll: [],\n      usersToAdd: [],\n    } \n  }\n  \n  //get project details\n  componentDidMount() {\n    axios.get('api/projects/'+this.props.match.params.id)\n    .then(response => {\n      this.setState({title: response.data.title})\n      this.setState({description: response.data.description})\n      this.setState({id: response.data._id})\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n\n    axios.get('/api/users/inproject/'+this.props.match.params.id)\n    .then(response => {\n      var newUsers = []\n      response.data.map(currentuser => {\n        newUsers.push({ value: currentuser._id , label: currentuser.username})\n      })\n      this.setState({usersProject: newUsers})\n    })\n\n    axios.get('/api/users/notinproject/'+this.props.match.params.id)\n      .then(response => {\n        var newUsers = []\n        response.data.map(currentuser => {\n          newUsers.push({ value: currentuser._id , label: currentuser.username})\n        })\n        this.setState({usersAll: newUsers})\n      })\n    }\n\n  //handle description text change\n  onChangeRemoveUsers = (e) => {\n    this.setState({usersToRemove: e})\n  }\n\n  //handle title text change\n  onChangeAddUsers = (e) => {\n    this.setState({usersToAdd: e})\n  }\n\n  //make project and send it to update project at id\n  handleSubmit = (e) => {\n    e.preventDefault()\n\n    var newUsersToAdd = []\n    var newUsersToRemove = []\n\n    this.state.usersToAdd.map(currentuser => {\n      newUsersToAdd.push(currentuser.value)\n    })\n    this.state.usersToRemove.map(currentuser => {\n      newUsersToRemove.push(currentuser.value)\n    })\n\n    const project = {\n      id: this.state.id,\n      usersToAdd: newUsersToAdd,\n      usersToRemove: newUsersToRemove,\n    }\n    const projectAdd = {\n      id: this.state.id,\n      users: newUsersToAdd,\n    }\n    const projectRemove = {\n      id: this.state.id,\n      users: newUsersToRemove,\n    }\n    axios.post('/api/projects/addusers/'+this.props.match.params.id, project)\n    .then(response => {\n      axios.post('/api/projects/removeusers/'+this.props.match.params.id, project)\n    })\n    .then(response => {\n      axios.post('api/users/updateprojects/', projectAdd)\n    })\n    .then(response => {\n      axios.post('/api/users/removeproject/', projectRemove)\n    })\n    .then(response => {\n      window.location = '/projects/details/'+this.props.match.params.id\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <Row>\n          <Col sm={3}></Col>\n          <Col>\n            <Card style={{background: 'linear-gradient(to right bottom, #555555, #cccccc)' , border: 0,padding: 15}}>\n            <Form onSubmit={this.handleSubmit(e)}>\n              <h3 style={{color: 'white'}}>{this.state.title} Users</h3>\n              <a href={\"/projects/details/\"+this.props.match.params.id} style={{cursor: 'pointer'}}>\n                Cancel\n              </a> \n\n              <div style={{paddingTop:20, color: 'white'}}><h5>Remove Users</h5></div>\n              <div><Select isMulti options={ this.state.usersProject } onChange={this.onChangeRemoveUsers(e)}/></div>\n              <div style={{paddingTop:20,color: 'white'}}><h5>Add Users</h5></div>\n              <div><Select isMulti options={ this.state.usersAll } onChange={this.onChangeAddUsers(e)}/></div>\n\n              <div style={{paddingTop:20}}>\n                <Button variant=\"primary\" type=\"submit\">\n                  Submit\n                </Button>\n              </div>\n            </Form>  \n            </Card>      \n          </Col>\n          <Col sm={3}></Col>\n        </Row>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}